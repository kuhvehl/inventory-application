<!DOCTYPE html>
<html>
<head>
  <title>Edit Item</title>
  <link rel="stylesheet" href="/styles/reset.css" />
  <link rel="stylesheet" href="/styles/editItem.css" />
  <script src="/scripts/editItem.js" defer></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <header>
    <h1>Wine Inventory App</h1>
    <nav>
      <ul class="menu">
        <li><a href="/categories">Manage Categories</a></li>
        <li><a href="/subcategories">Manage Subcategories</a></li>
        <li><a href="/items">Manage Items</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section>
      <h2>Edit Item</h2>
      <form action="/items/<%= item.id %>/edit" method="POST">
        <label>Name: <input type="text" name="name" value="<%= item.name %>" required /></label>
        <label>Price: <input type="number" step="0.01" name="price" value="<%= item.price %>" required /></label>
        <label>Quantity: <input type="number" name="quantity" value="<%= item.quantity %>" required /></label>
        <label>Description: <textarea name="description"><%= item.description %></textarea></label>
        <label>Brand: <input type="text" name="brand" value="<%= item.brand %>" required /></label>
        <label>Region: <input type="text" name="region" value="<%= item.region %>" required /></label>

        <label>Category:
          <select name="category_id" id="category-dropdown" data-item="<%= item.id %>" required>
            <% categories.forEach(category => { %>
              <option value="<%= category.id %>" <%= category.id === selectedCategory.id ? 'selected' : '' %>>
                <%= category.name %>
              </option>
            <% }) %>
          </select>
        </label>

        <label>Subcategory:
          <select name="subcategory_id" id="subcategory-dropdown" required>
            <% subcategories.forEach(subcategory => { %>
              <option value="<%= subcategory.id %>" <%= subcategory.id === item.subcategory_id ? 'selected' : '' %>>
                <%= subcategory.name %>
              </option>
            <% }) %>
          </select>
        </label>

        <button type="submit">Update Item</button>
      </form>
      <a href="/items/<%= item.id %>">Back to Item Details</a>
    </section>
  </main>
</body>
</html>